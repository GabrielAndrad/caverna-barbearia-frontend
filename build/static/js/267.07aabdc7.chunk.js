"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[267],{4367:function(e,t,n){n.r(t),n.d(t,{default:function(){return _}});var s=n(2791),a=n(7689),i=n(4226),r=n(5153),l=n(1413),o=n(885),c=n(184),d=function(){return(0,c.jsxs)("div",{className:"header",children:[(0,c.jsx)("img",{src:"data:image/png;base64,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",alt:"",width:"20px",height:"20px"}),(0,c.jsx)("span",{children:"Aberto de Segunda a S\xe1bado 8h as 19h"})]})},u=(0,i.MT)({showSchedule:!1}),h=u.state$,m=u.updateState,p=function(e){m({showSchedule:e})},f=n.p+"static/media/background-barbearia.6da94d7b517924a8d828.jpeg",v=n.p+"static/media/logo.7a38c53ab23dd6839fe5.png",x=n.p+"static/media/tijolo.524bcd1158ab90c01e62.jpeg",j=function(){return(0,c.jsxs)("div",{className:"map-container",children:[(0,c.jsx)("img",{src:x,alt:""}),(0,c.jsx)("iframe",{style:{borderRadius:12},width:"100%",height:"300",frameBorder:"0",scrolling:"no",marginHeight:0,marginWidth:0,id:"gmap_canvas",src:"https://maps.google.com/maps?width=100%&height=400&hl=en&q=90%20Rua%20Benedito%20de%20Campos%20Sorocaba+()&t=&z=17&ie=UTF8&iwloc=B&output=embed"})]})},g=n.p+"static/media/whats.760fc32b2e6211d2ed72.png",A=n.p+"static/media/facebook.a5b07f7990f6b0497177.png",b=n.p+"static/media/instagram.df8c6c0fca1b31c757ac.png",C=function(){return(0,c.jsxs)("div",{className:"footer",children:[(0,c.jsx)("img",{src:g,onClick:function(){window.open("https://api.whatsapp.com/send?phone=5515%99189-1072&text=".concat("Ol\xe1, tudo bem? Gostaria de tirar algumas duvidas sobre o agendamento."))},alt:""}),(0,c.jsx)("img",{src:A,alt:""}),(0,c.jsx)("img",{className:"insta",src:b,alt:""})]})};var D=n.p+"static/media/return.9317f589311cd1c7756b80338b43cfc6.svg",N=n(2266),S=n(6438),w=n(3570),y=n(2609),z=n(8211),M=n(199),R=n(1044),k="https://projeto-barbearia-backend.herokuapp.com",E=(0,z.K)((function(e){return e.response?(0,S._)(e.response):e.request?(0,S._)(e.request):(0,S._)(e.message)})),H=function(e,t,n,s){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},l=t.substring(0,4).includes("http")?t:k+t,o=(0,M.w)((function(t){var o=R.ZP.request({method:e,url:l,data:i,responseType:"formdata"===s.responseType?"json":s.responseType,timeout:s.timeout,headers:n?{"Content-Type":"formdata"===s.responseType?"multipart/form-data":"application/json"}:{}});return(0,w.D)(o).pipe((0,r.U)((function(e){return a?e:e.data})))}));return(0,y.of)(!0).pipe(o,E)},O=n(2426),T=n.n(O),I=function(e){var t=T()(e).format("YYYY-MM-DD");return function(e){return H("get",e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],{responseType:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"json",timeout:arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e4},arguments.length>4&&void 0!==arguments[4]&&arguments[4],{})}("/schedule-hours/".concat(t))},B=function(e){return function(e,t){return H("post",e,!(arguments.length>2&&void 0!==arguments[2])||arguments[2],{responseType:arguments.length>3&&void 0!==arguments[3]?arguments[3]:"json",timeout:arguments.length>4&&void 0!==arguments[4]?arguments[4]:2e4},arguments.length>5&&void 0!==arguments[5]&&arguments[5],t)}("/schedule",e)},K=(0,i.MT)({hoursSelected:[],isLoading:!1}),q=K.state$,G=K.updateState,Z=function(e){G({isLoading:!0}),I(e).subscribe((function(e){G({hoursSelected:e,isLoading:!1})}),(function(e){G({hoursSelected:[],isLoading:!1})}))},U=function(e){G({isLoading:e})},W=function(e){var t=e.selectDate,n=(0,s.useState)(new Date),a=(0,o.Z)(n,2),i=a[0],r=a[1],l=function(e){r(e),Z(e),t(e)};(0,s.useEffect)((function(){Z(i),t(i)}),[]);var d=new Date,u=new Date;return(0,c.jsx)("div",{className:"data-container",children:(0,c.jsx)(N.ZP,{onChange:function(e){return l(e)},value:i,minDate:new Date,maxDate:new Date(u.setDate(d.getDate()+30)),locale:"pt-BR",tileDisabled:function(e){return 0===e.date.getDay()}})})},L=n(7724);function V(){return(0,c.jsx)("div",{className:"spinner-container",children:(0,c.jsx)("div",{className:"loading-spinner"})})}var J=n(8174),F=n(9504),P=n.n(F),Q=(0,i.Ir)((function(e){return(0,L.a)([q]).pipe((0,r.U)((function(e){var t=(0,o.Z)(e,1)[0];return(0,l.Z)({},t)})))}))((function(e){var t=e.hoursSelected,n=e.isLoading,a=(0,s.useState)([]),i=(0,o.Z)(a,2),r=i[0],d=i[1],u=(0,s.useState)({title:"",value:""}),h=(0,o.Z)(u,2),m=h[0],f=h[1],x=(0,s.useState)(),j=(0,o.Z)(x,2),g=j[0],A=j[1],b=(0,s.useState)({user:{name:"",phone:""}}),C=(0,o.Z)(b,2),N=C[0],S=C[1],w=(0,s.useState)("infos"),y=(0,o.Z)(w,2),z=y[0],M=y[1],R=function(e){M(e)},k=function(e,t){var n=N;n.user[e]=t,S((0,l.Z)({},n))},E=function(e){return"user"===e?!!N&&(!N.user||!N.user.phone||!N.user.name):"date"===e?!!N&&(!N.date||!N.hour):void 0};return(0,c.jsxs)("div",{className:"schedule",children:[(0,c.jsx)(J.Ix,{}),(0,c.jsx)("span",{className:"icon-close",onClick:function(){return p(!1)},children:"x"}),(0,c.jsxs)("span",{onClick:function(){"review"===z?M("user"):"user"===z?M("infos"):N?S(void 0):m&&(f({title:"",value:""}),d([]),A(void 0))},style:{position:"absolute",left:10,top:10,display:"flex",alignItems:"center",cursor:"pointer"},children:[(0,c.jsx)("img",{alt:"",src:D,style:{width:20,height:20}}),"Voltar"]}),"infos"===z&&(0,c.jsxs)("div",{children:[m.title?(0,c.jsx)("h1",{children:"Selecione uma data dispon\xedvel"}):(0,c.jsx)("h1",{children:"Selecione o Servi\xe7o"}),!m.title&&(0,c.jsx)("ul",{className:"schedule-list",children:r.length>0?r.map((function(e,t){return(0,c.jsxs)("li",{onClick:function(){return function(e){f(e)}(e)},className:"schedule-list-item",children:[(0,c.jsx)("img",{src:v,alt:""}),(0,c.jsx)("span",{children:e.title})]},t)})):[{id:1,name:"CABELO",details:[{title:"Corte na M\xe1quina",value:"R$ 20,00"},{title:"Corte Social",value:"R$ 25,00"},{title:"Corte Degrad\xea",value:"R$ 30,00"}]},{id:2,name:"BARBA",details:[{title:"Barba",value:"R$ 20.00"}]},{id:3,name:"SOBRANCELHA",details:[{title:"Sobrancelha",value:"R$ 10,00"}]},{id:4,name:"COMBOS",details:[{title:"Corte + Sobrancelha",value:"R$ 30,00"},{title:"Corte + Barba",value:"R$ 40,00"},{title:"Corte + Barba + Sobrancelha",value:"R$ 60,00"}]}].map((function(e){return(0,c.jsxs)("li",{onClick:function(){return function(e){console.log(e.details),d(e.details)}(e)},className:"schedule-list-item",children:[(0,c.jsx)("img",{src:v,alt:""}),(0,c.jsx)("span",{children:e.name})]},e.id)}))}),m.title&&(0,c.jsx)(W,{selectDate:function(e){return A(e)}}),m.title&&(0,c.jsx)("h1",{children:"Selecione um hor\xe1rio dispon\xedvel para a data selecionada"}),m.title&&(0,c.jsx)("div",{className:"list-container",children:(0,c.jsx)("div",{className:"list-hours",children:t.map((function(e){return(0,c.jsx)("div",{onClick:function(t){return n=e,void(m&&g&&S({typeCut:{title:m.title,price:m.value},dateRegister:T()(new Date).format("DD/MM/YYYY"),hour:n.value,date:g,user:{name:"",phone:""}}));var n},className:"list-hours-items",style:{backgroundColor:e.disabled?"#ddd":e.value===(null===N||void 0===N?void 0:N.hour)?"#1087ff":"#fff",color:e.disabled||e.value===(null===N||void 0===N?void 0:N.hour)?"#fff":"#000"},children:!n&&(0,c.jsx)("span",{children:e.value.replace(":00","")})},e.value)}))})}),m.title&&(0,c.jsx)("div",{className:"line-button",children:(0,c.jsx)("button",{disabled:E("date"),className:"save-schedule",onClick:function(){R("user"),S(N)},children:"Continuar"})})]}),"review"===z&&(0,c.jsxs)("div",{className:"review-container",style:{width:"100%"},children:[(0,c.jsx)("h1",{children:"Revise suas informa\xe7\xf5es:"}),(0,c.jsxs)("div",{className:"review",children:[(0,c.jsxs)("span",{children:["Servi\xe7o: ",N.typeCut.title]}),(0,c.jsxs)("span",{children:["Pre\xe7o: ",N.typeCut.price]}),(0,c.jsxs)("span",{children:["Data: ",T()(N.date).format("DD/MM/YYYY")]}),(0,c.jsxs)("span",{children:["Hor\xe1rio: ",N.hour]})]}),(0,c.jsx)("h1",{children:"Informa\xe7\xf5es do cliente:"}),N.user&&(0,c.jsxs)("div",{className:"review",children:[(0,c.jsxs)("span",{children:["Nome: ",N.user.name]}),(0,c.jsxs)("span",{children:["Telefone: ",N.user.phone]})]}),(0,c.jsx)("span",{className:"line-text",children:"Verifique com aten\xe7\xe3o todas as informa\xe7\xf5es sobre seu agendamento. Se houver algum erro clique no bot\xe3o voltar e altere seus dados"}),N&&(0,c.jsx)("div",{className:"line-button",children:(0,c.jsxs)("button",{className:"save-schedule",onClick:function(){return U(!0),console.log(N),void B(N).subscribe((function(e){U(!1),setTimeout((function(){return p(!1)}),5e3),J.Am.success("Agendamento cadastrado com sucesso!",{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})}),(function(e){U(!1),console.log(e),J.Am.error("Falha ao cadastrar agendamento",{position:"bottom-right",autoClose:8e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})}))},children:[n&&(0,c.jsx)(V,{})," Salvar Agendamento"]})})]}),"user"===z&&(0,c.jsxs)("div",{className:"form-user",children:[(0,c.jsx)("h1",{children:"Preencha seus dados"}),(0,c.jsx)("div",{className:"line-button",style:{height:"5vh"},children:(0,c.jsx)("input",{onChange:function(e){return k("name",e.target.value)},type:"text",className:"input-text","data-inputMask":"",placeholder:"Digite seu nome"})}),(0,c.jsx)("div",{className:"line-button",style:{height:"5vh"},children:(0,c.jsx)(P(),{mask:"99999-9999",maskChar:null,className:"input-text",placeholder:"Digite seu whatsapp",onChange:function(e){k("phone",e.target.value)},beforeMaskedValueChange:function(e,t,n){var s=e.value,a=e.selection,i=a?a.start:null;return s.endsWith("-")&&"-"!==n&&(i===s.length&&(a={start:--i,end:i}),s=s.slice(0,-1)),{value:s,selection:a}}})}),N&&(0,c.jsx)("div",{className:"line-button",children:(0,c.jsx)("button",{disabled:E("user"),className:"save-schedule",onClick:function(){R("review")},children:"Continuar"})})]})]})})),Y=(0,i.Ir)((function(e){return(0,L.a)([h]).pipe((0,r.U)((function(e){var t=(0,o.Z)(e,1)[0];return(0,l.Z)({},t)})))}))((function(e){var t=e.showSchedule;return console.log(t),(0,c.jsxs)("main",{children:[(0,c.jsx)(d,{}),(0,c.jsxs)("section",{className:"background",children:[(0,c.jsx)("img",{className:"background",src:f,alt:""}),(0,c.jsx)("img",{className:"logo",src:v,alt:""})]}),(0,c.jsxs)("section",{className:"schedule-time",children:[(0,c.jsx)("span",{className:"title",children:"CAVERNA BARBEARIA"}),(0,c.jsx)("span",{className:"sub-title",children:"AGENDE SEU HOR\xc1RIO AQUI"}),(0,c.jsx)("button",{onClick:function(){return p(!0)},children:"AGENDAR HOR\xc1RIO"})]}),(0,c.jsx)("section",{children:(0,c.jsx)(j,{})}),(0,c.jsx)("section",{children:(0,c.jsx)(C,{})}),(0,c.jsx)("aside",{children:t&&(0,c.jsx)(Q,{})})]})})),X=(0,i.MT)({}).state$,$=function(){return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(a.Z5,{children:(0,c.jsx)(a.AW,{exact:!0,path:"/",element:(0,c.jsx)(Y,{})})})})},_=(0,i.Ir)((function(e){return X.pipe((0,r.U)((function(e){return{}})))}))((function(){return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("main",{children:(0,c.jsxs)(a.Z5,{children:[(0,c.jsx)(a.AW,{exact:!0,path:"/",element:(0,c.jsx)(Y,{})}),(0,c.jsx)(s.Fragment,{children:(0,c.jsx)(a.AW,{path:"/",element:$})}),(0,c.jsx)(a.AW,{component:Y})]})})})}))}}]);
//# sourceMappingURL=267.07aabdc7.chunk.js.map